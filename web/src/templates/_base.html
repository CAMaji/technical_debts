<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Technical Debt Analyzer</title>
		<!-- meta -->
		<meta name="description" content="">
		<meta name="author" content="">
		<meta name="viewport" content="width=device-width,initial-scale=1">
	</head>
	<body>
		{% include 'imports.html' %}
		{% include 'constants.html' %}
		
		<!-- Navigation Bar -->
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<div class="container-fluid">
				<a class="navbar-brand" href="{{ url_for('index') }}">
					<i class="bi bi-bug"></i> Tech Debt Analyzer
				</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav me-auto">
						<li class="nav-item">
							<a class="nav-link" href="{{ url_for('index') }}">Repositories</a>
						</li>
						{% if current_user.is_authenticated and current_user.is_admin %}
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" id="adminDropdown" role="button" data-bs-toggle="dropdown">
								<i class="bi bi-shield-lock"></i> Admin
							</a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item" href="{{ url_for('admin_users') }}">User Management</a></li>
								<li><a class="dropdown-item" href="{{ url_for('admin_repository_access') }}">Repository Access</a></li>
							</ul>
						</li>
						{% endif %}
					</ul>
					<ul class="navbar-nav">
						{% if current_user.is_authenticated %}
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
								<i class="bi bi-person-circle"></i> {{ current_user.username }}
							</a>
							<ul class="dropdown-menu dropdown-menu-end">
								<li><a class="dropdown-item" href="{{ url_for('logout') }}">Logout</a></li>
							</ul>
						</li>
						{% else %}
						<li class="nav-item">
							<a class="nav-link" href="{{ url_for('login') }}">Login</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{{ url_for('register') }}">Register</a>
						</li>
						{% endif %}
					</ul>
				</div>
			</div>
		</nav>
		
		{% block content %}
		
		{% endblock %}
	</body>
	{{ duplicate }}
</html>